<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>microgeo R package tutorial</title>
    <link href="https://www.layuicdn.com/layui-v2.8.10/css/layui.css" rel="stylesheet">
    <style>
        #docContent {
            width: 100%;
            height: 100vh;
            border: none;
        }
    </style>
</head>
<body>

<div class="layui-layout layui-layout-admin">
    <div class="layui-header">
        <div class="layui-logo layui-hide-xs layui-bg-black">microgeo</div>
        <ul class="layui-nav layui-layout-left">
            <li class="layui-nav-item layui-show-xs-inline-block layui-hide-sm" lay-header-event="menuLeft">
                <i class="layui-icon layui-icon-spread-left"></i>
            </li>
            <li class="layui-nav-item layui-hide-xs">
                <a href="javascript:;" id="docList">文档列表</a>
            </li>
        </ul>
    </div>
    <div class="layui-side layui-bg-black">
        <div class="layui-side-scroll">
            <ul class="layui-nav layui-nav-tree" lay-filter="test" id="sideNav">
                <li class="layui-nav-item layui-nav-itemed" id="docListContainer">
                    <!-- 动态生成的文档列表将放在这里 -->
                </li>
            </ul>
        </div>
    </div>
    <div class="layui-body">
        <div style="padding: 15px;">
            <iframe id="docContent" frameborder="0" src="doc/01.install-microgeo-package-and-dependencies.html"></iframe>
        </div>
    </div>

    <script src="https://www.layuicdn.com/layui-v2.8.10/layui.js"></script>
    <script>
        layui.use(['element', 'layer', 'util'], function () {
            var element = layui.element;
            var layer = layui.layer;
            var util = layui.util;
            var $ = layui.$;
            var isShow = true;

            // 处理文档列表
            var fileNames = [
                "01.install-microgeo-package-and-dependencies.html",
                "02.read-and-operate-map-data.html",
                "03.visualize-geographic-map.html",
                "04.create-microgeo-dataset.html",
                "05.collect-spatial-data.html",
                "06.calculate-biogeographic-traits.html",
                "07.merge-traits-with-a-map.html",
                "08.spatial-interpolation.html",
                "09.machine-learning.html",
                "10.interface-for-extensive-analysis.html"
                
                // 添加其他文件名称
            ];

            var docListContainer = document.getElementById('docListContainer');

            fileNames.forEach(function (fileName, index) {
                var docItem = document.createElement('dd');
                docItem.innerHTML = '<a href="javascript:;" class="doc-link" data-index="' + index + '">' + fileName + '</a>';
                docListContainer.appendChild(docItem);
            });

            // 为文档条目绑定点击事件
            $('#docListContainer').on('click', '.doc-link', function () {
                var index = $(this).data('index');
                var iframeSrc = 'doc/' + fileNames[index];

                // 加载对应的 HTML 文件内容到 iframe
                $('#docContent').attr('src', iframeSrc);

                // 添加高亮样式
                $('.doc-link').removeClass('active');
                $(this).addClass('active');
            });

            // 自适应 iframe 高度
            var iframe = document.getElementById('docContent');
            iframe.addEventListener('load', function () {
                var receivedMessage = function (event) {
                    if (event.origin !== window.location.origin) {
                        return;
                    }
                    iframe.style.height = event.data.height + 'px';
                };

                window.addEventListener('message', receivedMessage, false);
            });
        });
    </script>
</body>
</html>
